# AOP

## AOP란?
: 주된 기능이 아닌 추가기능을 객체로부터 분리해내는 것


데이터베이스의 transactional 등은 해당 객체의 주된 관심사라 할 수 없다. 
이렇듯 부가적으로 가지게되는 관심사를 객체로부터 분리시켜 객체가 이에대해 관심을 가질 필요가 없도록 하는 것이 AOP이다! 

## AOP 구현하는 법
- 프록시 패턴
    - 추가 기능을 프록시 객체로 분리하여 해당 객체를 이용하고싶다면 프록시를 통해 이용한다.
    - 다만, 해당 객체를 더 깊게 이용해야하는 경우 프록시에 의해 제한될 수 있다.
    - 프록시를 만드는 두가지 방법
        - JDK Proxy
            - Spring의 기본 설정
            - target의 상위 인터페이스를 상속
            - 인터페이스를 구현한 클래스가 아니면 이용할 수 없다.
            - 내부적으로 Reflection을 이용하기때문에 추가비용이 든다.
        - CGLib Proxy
            - Spring boot의 기본 설정
            - target 클래스를 상속
            - 내부적으로 Reflection을 이용하지 않기 때문에 성능상에 이점이 있다.
- 컴파일시점에 바이트코트에 추가기능을 추가

=> 스프링에서는 일반적으로 proxy를 이용하지만, 추가적인 작업을 해야하는 경우 바이트코드 방법을 이용한다

## 용어 정리
- Aspect
    - 흩어져있는 관심사를 모아 모듈화한 것
    - OOP라면 클래스와 대응되는 개념이다.
    - 대부분 싱글톤 형태의 객체로 존재
- Target
    - 부가기능을 부여할 대상 ( 클래스 및 메소드 )
- Advice
    - 타깃에게 제공할 부가기능을 담은 모듈
- Join Point
    - 어드바이스가 적용될 위치
- Pointcut
    - Advice를 적용할 Join Point를 선별하는 작업
- Advisor
    - Point Cut + Advice를 가지고있는 객체
